language: python
python:
  - "3.8"
  - "3.7"
  - "3.6"

env:
  - INSTALL=travis/linter-setup.sh
    SCRIPT=travis/linter-run.sh

  - INSTALL=travis/tox-setup.sh
    SCRIPT=travis/tox-run.sh

services:
  - mysql

before_script:
  - bash $INSTALL

script:
  - bash $SCRIPT

deploy:
  provider: pypi
  user: "__token__"
  password:
    secure: $token
    on:
      tags: true